## metaclass

### 类也是对象

在定义一个class的时候，解释器就会创建一个对象，对象名就是这个类名，而这个对象具有创建对象即实例的能力。由于其本质是一个对象，因此可以对其进行以下操作：

- 可以将该类赋值给一个变量
- 可以拷贝它
- 可以为它增加属性
- 可以作为函数参数进行传递

### 动态地创建类

由于类也是对象，因此可以在运行时使用class关键字动态地创建它们。但这仍需要你编写整个类的代码。

type()函数也可以动态地创建类。type()接受一个类的描述作为参数，然后返回一个类。

type(类名, 父类的元组, 包含属性的字典)

### 元类

元类是用来创建类的，可以将元类理解为类的类，即类的工厂。

python中的所有东西都是对象，包括整数、字符串、函数以及类，它们都是从一个类创建而来的。

任何对象x的x.\_\_class__.\_\_class__都返回type，type就是python的内建元类。

### metaclass

在编写一个类时候，可以为其添加metaclass属性并赋值，则python就会使用元类来创建该类。

\metaclass中应当是type或任何用到type或子类化type的类或函数等。

### metaclass参数为什么一般都接受一个类作为值

- 类在语义上可以更准确地表示出元类的含义。
- 以类作为元类，可以更方便的继承其他的类。
- 可以在类中重写__new__()， __init__()和__call__()等方法，更方便的实现类创建管理。

### metaclass实现接口或抽象类

metaclass=ABCMeta

### 使用metaclass控制实例创建

通过重写__call__()方法，实现对对象实例化过程的控制。

- 实现单例模式。